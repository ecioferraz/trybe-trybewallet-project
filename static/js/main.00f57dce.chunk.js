(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,n){e.exports=n(52)},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),c=n.n(l),i=n(22),s=n(10),o=(n(42),n(2)),u=n(16),m=n(3),p=n(4),h=n(12),d=n(6),b=n(5),E=n(17),f=n.n(E),v=n(21),y=function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))},g=function(e){return{type:"GET_CURRENCIES_SUCCESS",currencies:e}},j=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.labelText,a=e.type,l=e.name,c=e.value,i=e.onChange,s=e.placeholder,o=e.dataTestId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:l},n," "),r.a.createElement("input",{className:t,type:a,name:l,value:c,onChange:i,id:l,placeholder:s,"data-testid":o}))}}]),n}(a.Component);j.defaultProps={labelText:"",placeholder:"",dataTestId:""};n(44);var O=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={email:"",password:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.disableBtn=a.disableBtn.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(u.a)({},n,a))}},{key:"disableBtn",value:function(){var e=this.state,t=e.email,n=e.password;return!(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w\w+)+$/.test(t)&&n.length>5)}},{key:"handleInput",value:function(e,t,n,a){return r.a.createElement(j,{className:"login-input",dataTestId:e,htmlFor:n,placeholder:t,name:n,onChange:this.handleChange,type:n,value:a})}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=this.props.login;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"landing-page"},r.a.createElement("form",{className:"login-form"},r.a.createElement("h6",{className:"greetings"},"Ol\xe1! Fa\xe7a seu login:"),r.a.createElement("div",{className:"input-container"},this.handleInput("email-input","Email","email",t)),r.a.createElement("div",{className:"input-container"},this.handleInput("password-input","Senha","password",n)),r.a.createElement(i.b,{to:"/carteira",style:this.disableBtn()?{pointerEvents:"none"}:null},r.a.createElement("button",{className:"login-btn",color:"primary",type:"button",disabled:this.disableBtn(),onClick:function(){return a({email:t})}},"Entrar")))),r.a.createElement("footer",{className:"image-credit"},r.a.createElement("a",{href:"https://www.vecteezy.com/free-vector/finance"},"Finance Vectors by Vecteezy")))}}]),n}(a.Component),x=Object(s.b)(null,(function(e){return{login:function(t){return e(function(e){return{type:"LOGIN",email:e}}(t))}}}))(O),C=(n(46),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.expenses.reduce((function(e,t){return e+=t.value*t.exchangeRates[t.currency].ask}),0);return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("i",{className:"fas fa-cash-register"}),r.a.createElement("h1",null,"TrybeWallet")),r.a.createElement("ul",{className:"user-info"},r.a.createElement("li",{"data-testid":"email-field"},t),r.a.createElement("li",{"data-testid":"total-field"},n.toFixed(2)," ","BRL")))}}]),n}(a.Component)),w=Object(s.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(C),S=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.labelText,a=e.name,l=e.value,c=e.options,i=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},n," "),r.a.createElement("select",{className:t,type:"select",name:a,value:l,onChange:i,id:a},c.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}}]),n}(a.Component),N=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],k=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],I={label:"Valor",type:"number",name:"value"},T={label:"Descri\xe7\xe3o",type:"text",name:"description"},R={label:"Moeda",name:"currency"},F={label:"M\xe9todo de pagamento",name:"method"},_={label:"Tag",name:"tag"},D=(n(47),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleTextInput=a.handleTextInput.bind(Object(h.a)(a)),a.handleSelectInput=a.handleSelectInput.bind(Object(h.a)(a)),a}return Object(p.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(u.a)({},n,a))}},{key:"handleSubmit",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.props.getExpenses,e.next=4,y();case 4:a=e.sent,this.setState({exchangeRates:a}),n(this.state),this.setState({value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleTextInput",value:function(e,t,n){var a=e.label,l=e.type,c=e.name;return r.a.createElement("div",null,r.a.createElement(j,{className:"expenses-input",labelText:a,name:c,onChange:n,type:l,value:t}))}},{key:"handleSelectInput",value:function(e,t,n,a){var l=e.label,c=e.name;return r.a.createElement("div",null,r.a.createElement(S,{className:"expenses-input select-input",labelText:l,name:c,onChange:a,options:n,value:t}))}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.description,a=e.currency,l=e.method,c=e.tag,i=this.props.currencies;return r.a.createElement("form",{onSubmit:this.handleSubmit,className:"expenses-form input-container"},this.handleTextInput(I,t,this.handleChange),this.handleTextInput(T,n,this.handleChange),this.handleSelectInput(R,a,i,this.handleChange),this.handleSelectInput(F,l,N,this.handleChange),this.handleSelectInput(_,c,k,this.handleChange),r.a.createElement("button",{className:"expense-btn",disabled:!t||!n,type:"submit"},"Adicionar despesa"))}}]),n}(r.a.Component)),M=Object(s.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{getExpenses:function(t){return e(function(e){return{type:"GET_EXPENSES",expenses:e}}(t))}}}))(D),P=(n(48),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.expenses,n=e.removeExpense;return r.a.createElement("section",{className:"table-section"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Editar/Excluir"].map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,t.map((function(e){var t=e.description,a=e.tag,l=e.method,c=e.currency,i=e.value,s=e.exchangeRates,o=e.id;return r.a.createElement("tr",{key:o},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,i),r.a.createElement("td",null,s[c].name.split("/")[0]),r.a.createElement("td",null,Number(s[c].ask).toFixed(2)),r.a.createElement("td",null,Number(s[c].ask*i).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{className:"expense-btn",type:"button","data-testid":"delete-btn",onClick:function(){return n(o)}},"Excluir")))})))))}}]),n}(a.Component)),U=Object(s.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{removeExpense:function(t){return e({type:"REMOVE_EXPENSE",expenseId:t})}}}))(P),V=(n(49),function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.currencyAPI)()}},{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"expenses-page"},r.a.createElement(w,null),r.a.createElement(M,null),e.length>0&&r.a.createElement(U,null)),r.a.createElement("footer",{className:"image-credit"},r.a.createElement("a",{href:"https://www.vecteezy.com/free-vector/finance"},"Finance Vectors by Vecteezy")))}}]),n}(r.a.Component)),B=Object(s.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{currencyAPI:function(){return e(function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:n=e.sent,a=Object.keys(n).filter((function(e){return"USDT"!==e})),t(g(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GET_CURRENCIES_ERROR",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}}}))(V);n(50);var G=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/trybe-trybewallet-project/",component:x}),r.a.createElement(o.a,{exact:!0,path:"/trybe-trybewallet-project/carteira",component:B}))},z=n(14),A=n(30),L=n(31),W={email:""};var X=n(32),J=n(13),$={currencies:[],expenses:[],error:null};var q=Object(z.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.email;switch(n){case"LOGIN":return a;default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.currencies,r=t.expenses,l=t.error,c=t.expenseId;switch(n){case"GET_CURRENCIES_SUCCESS":return Object(J.a)(Object(J.a)({},e),{},{currencies:a});case"GET_CURRENCIES_ERROR":return Object(J.a)(Object(J.a)({},e),{},{error:l});case"GET_EXPENSES":return r.id=e.expenses.length,Object(J.a)(Object(J.a)({},e),{},{expenses:[].concat(Object(X.a)(e.expenses),[r])});case"REMOVE_EXPENSE":return Object(J.a)(Object(J.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==c}))});default:return e}}}),H=Object(z.createStore)(q,Object(A.composeWithDevTools)(Object(z.applyMiddleware)(L.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);c.a.render(r.a.createElement(s.a,{store:H},r.a.createElement(i.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.00f57dce.chunk.js.map